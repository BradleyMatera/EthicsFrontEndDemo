(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";let s=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],78894)},72520,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>s],72520)},70756,e=>{"use strict";let s=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>s],70756)},61911,e=>{"use strict";let s=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>s],61911)},12050,e=>{"use strict";var s=e.i(43476),t=e.i(91280),r=e.i(73375),i=e.i(67034);class a{config=null;constructor(){this.loadConfig()}loadConfig(){if(this.config)return this.config;try{return this.config={api_key:"sk-shared-config-demo-1234567890",database:{host:"shared.database.company.com",username:"shared_app_user",password:"shared_secure_password_456",port:5432,ssl:!0},jwt_secret:"shared-jwt-secret-key-for-demo",external_apis:{payment_gateway:"pk_shared_stripe_key_demo",analytics:"shared_google_analytics_token",email_service:"shared_sendgrid_api_key"},feature_flags:{enable_new_dashboard:!0,enable_beta_features:!1,maintenance_mode:!1},cache_settings:{redis_url:"redis://shared-cache.company.com:6379",ttl_seconds:3600}},console.log("âœ… Configuration loaded from shared config.json file"),this.config}catch(e){return console.warn("âš ï¸ Could not load config file, using fallback values"),this.config={api_key:"sk-fallback-demo-key",database:{host:"localhost",username:"demo_user",password:"demo_password",port:5432},jwt_secret:"fallback-jwt-secret",external_apis:{payment_gateway:"pk_fallback_key",analytics:"fallback_analytics_token"}},this.config}}getDatabaseConfig(){return{...this.loadConfig().database,source:"shared config file"}}async makeAPICall(){let e=this.loadConfig();try{console.log("ðŸ“ Using API key from shared config file");let s={message:"API call simulated with shared config key",key_source:"config.json file",key_preview:e.api_key.substring(0,8)+"...",improvement:"Better than hardcoded, but still has risks"};return{success:!0,data:s,benefits:["Secrets not directly in source code","Easier to manage across environments","Can be excluded from version control"],risks:["File might accidentally be committed","All developers need access to the file","No encryption at rest"]}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}generateJWT(e){return this.loadConfig(),console.log("ðŸ“ Using JWT secret from shared config file"),{token:`${i.Buffer.from(JSON.stringify({alg:"HS256",typ:"JWT"})).toString("base64")}.${i.Buffer.from(JSON.stringify({userId:e,exp:Date.now()+36e5})).toString("base64")}.shared-signature`,source:"Shared config file",benefits:"Secret not visible in source code",risks:"Config file security depends on file system permissions"}}getAnalysis(){return{pros:["Secrets separated from source code","Easier to manage different environments","Can be excluded from version control","Centralized configuration management"],cons:["Risk of accidentally committing config files","All team members need file access","No built-in secret rotation","File permissions must be managed carefully","Secrets stored in plain text"],best_practices:["Add config files to .gitignore","Use different config files per environment","Implement proper file permissions (600)","Document required configuration format","Consider encrypting sensitive values"]}}async runDemo(){console.log("ðŸ“ SHARED FILES DEMO (IMPROVED APPROACH)"),console.log("=".repeat(50)),console.log("Database config:",this.getDatabaseConfig()),console.log("API call result:",await this.makeAPICall()),console.log("JWT generation result:",this.generateJWT(456));let e=this.getAnalysis();return console.log("\nðŸ“Š ANALYSIS:"),console.log("Pros:",e.pros),console.log("Cons:",e.cons),console.log("Best Practices:",e.best_practices),{demo_type:"shared_files",status:"completed",security_level:"MODERATE_RISK",recommendation:"Good improvement, but environment variables are better"}}}var n=e.i(12286),o=e.i(40187),c=e.i(43943),l=e.i(57980),d=e.i(97797),m=e.i(44812),h=e.i(26413),x=e.i(78894),p=e.i(71689),g=e.i(72520),u=e.i(50682),f=e.i(78917),j=e.i(70756);let y=(0,e.i(75254).default)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);var b=e.i(61911),v=e.i(86536),w=e.i(31343),k=e.i(68054),N=e.i(22016),C=e.i(71645);function _(){let[e,i]=(0,C.useState)(!1),[_,S]=(0,C.useState)(null),[A]=(0,C.useState)(()=>new a),D=[{title:"secrets.json File",language:"json",code:`{
  "database": {
    "host": "production.db.company.com",
    "username": "admin",
    "password": "P@ssw0rd123!",
    "port": 5432
  },
  "apiKeys": {
    "stripe": "sk_live_1234567890abcdef",
    "sendgrid": "SG.1234567890abcdef",
    "aws": "AKIAI1234567890ABCDEF"
  },
  "jwt": {
    "secret": "my-super-secret-jwt-key-for-production"
  }
}`,risk:"All secrets visible to anyone who clones the repository"},{title:"config.js with Secrets",language:"javascript",code:`// config.js - committed to repository
module.exports = {
  development: {
    database: {
      host: 'localhost',
      password: 'dev123'
    }
  },
  production: {
    database: {
      host: 'prod.db.company.com',
      password: 'ProductionPassword2023!',
      ssl: true
    },
    apiKey: 'pk_live_realproductionapikey',
    webhookSecret: 'whsec_productionwebhooksecret'
  }
};`,risk:"Production secrets mixed with configuration"},{title:"Loading Shared Secrets",language:"javascript",code:`// app.js - using shared secrets file
const secrets = require('./secrets.json');
const config = require('./config.js');

// Database connection using shared secrets
const dbConfig = {
  host: secrets.database.host,
  user: secrets.database.username,
  password: secrets.database.password,
  port: secrets.database.port
};

// API configuration
const stripeKey = secrets.apiKeys.stripe;
const jwtSecret = secrets.jwt.secret;

console.log('Connecting to:', dbConfig.host);`,risk:"Application depends on committed secrets"}],E=[{title:"Version Control History",description:"Secrets become permanently stored in git history, even if later removed",icon:(0,s.jsx)(y,{className:"text-danger",size:20}),severity:"Critical"},{title:"Overprivileged Access",description:"All team members get access to production secrets, violating least privilege",icon:(0,s.jsx)(b.Users,{className:"text-warning",size:20}),severity:"High"},{title:"No Environment Separation",description:"Development and production secrets often mixed in the same file",icon:(0,s.jsx)(v.Eye,{className:"text-warning",size:20}),severity:"High"},{title:"Repository Exposure Risk",description:"If repository becomes public or is compromised, all secrets are exposed",icon:(0,s.jsx)(j.Lock,{className:"text-danger",size:20}),severity:"Critical"}],B=[{title:"Separate Configuration Files",description:"Keep configuration structure in repo, secrets elsewhere",language:"json",code:`// config.template.json (committed)
{
  "database": {
    "host": "REPLACE_WITH_DB_HOST",
    "username": "REPLACE_WITH_USERNAME",
    "password": "REPLACE_WITH_PASSWORD"
  }
}`},{title:"Environment-Based Loading",description:"Load secrets from environment variables or external sources",language:"javascript",code:`// config.js (committed)
module.exports = {
  database: {
    host: process.env.DB_HOST,
    username: process.env.DB_USERNAME,
    password: process.env.DB_PASSWORD
  }
}`}];return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-background to-default-50",children:(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,s.jsx)(t.Breadcrumb,{items:[{label:"Home",href:"/"},{label:"Shared Secrets Demo"}]}),(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(j.Lock,{className:"text-warning mr-3",size:32})}),(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Shared Secrets Files"}),(0,s.jsx)("p",{className:"text-xl text-foreground-600 max-w-3xl mx-auto",children:"Understand why committing secrets files to your repository creates security vulnerabilities and learn better alternatives for configuration management."})]}),(0,s.jsxs)(n.Card,{className:"bg-warning-50 border-warning-200 mb-8",children:[(0,s.jsxs)(c.CardHeader,{children:[(0,s.jsx)(x.AlertTriangle,{className:"text-warning mr-3",size:24}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-warning-800",children:"âš ï¸ Medium Risk Approach"}),(0,s.jsx)(d.Chip,{color:"warning",size:"sm",variant:"flat",children:"Avoid in production"})]})]}),(0,s.jsx)(o.CardBody,{children:(0,s.jsx)("p",{className:"text-warning-700",children:"While slightly better than hardcoded secrets, committing secrets files to your repository still exposes sensitive information to anyone with repository access and creates permanent security risks in your version control history."})})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Common Shared Secrets Patterns"}),(0,s.jsx)("div",{className:"space-y-6",children:D.map((e,t)=>(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.title})}),(0,s.jsxs)(o.CardBody,{children:[(0,s.jsx)(r.CodeBlock,{title:`${e.title} Example`,code:e.code,language:e.language,canToggleVisibility:!0}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-warning-50 rounded-lg border border-warning-200",children:(0,s.jsxs)("p",{className:"text-warning-700 text-sm font-medium",children:["âš ï¸ Problem: ",e.risk]})})]})]},t))})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Why Shared Secrets Are Problematic"}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:E.map((e,t)=>(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[e.icon,(0,s.jsx)("h3",{className:"text-lg font-semibold ml-3",children:e.title})]}),(0,s.jsx)(d.Chip,{color:"Critical"===e.severity?"danger":"warning",size:"sm",children:e.severity})]})}),(0,s.jsx)(o.CardBody,{children:(0,s.jsx)("p",{className:"text-foreground-600",children:e.description})})]},t))})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Better Approaches"}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:B.map((e,t)=>(0,s.jsxs)(n.Card,{className:"bg-success-50 border-success-200",children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-success-800",children:e.title})}),(0,s.jsxs)(o.CardBody,{children:[(0,s.jsx)("p",{className:"text-success-700 mb-4",children:e.description}),(0,s.jsx)(r.CodeBlock,{title:`${e.title} Implementation`,code:e.code,language:e.language})]})]},t))})]}),(0,s.jsx)(m.Divider,{className:"my-12"}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 mb-12",children:[(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Guided Lab Exercises"})}),(0,s.jsx)(o.CardBody,{className:"space-y-4",children:[{title:"Reproduce the Leak",steps:["Clone the shared secrets demo and inspect the repository history","Check CI logs and artifacts for traces of secrets.json","Use a GitHub personal access token to verify access levels"]},{title:"Simulate a Contractor",steps:["Create a new read-only collaborator and clone the repo","List every secret accessible with that single permission","Attempt to use the secrets to access production-like services"]},{title:"Incident Review",steps:["Draft an incident timeline from discovery to containment","Identify logs and alerts that should have fired but did not","Capture remediation tasks and owners"]}].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-foreground-600 mb-2",children:e.title}),(0,s.jsx)("ul",{className:"list-disc space-y-1 pl-5 text-sm text-foreground-500",children:e.steps.map(e=>(0,s.jsx)("li",{children:e},e))})]},e.title))})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Governance Questions"})}),(0,s.jsx)(o.CardBody,{children:(0,s.jsx)("ul",{className:"list-disc space-y-2 pl-5 text-foreground-600",children:["Who approves access to shared secret files today?","How quickly can you revoke access if a contractor leaves?","What downstream systems break if secrets.json is removed?","Do you have monitoring for commits that reintroduce secrets?"].map(e=>(0,s.jsx)("li",{children:e},e))})})]})]}),(0,s.jsxs)(n.Card,{className:"mb-12",children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Three-Week Migration Timeline"})}),(0,s.jsxs)(o.CardBody,{className:"grid gap-6 md:grid-cols-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-foreground-600 mb-2",children:"Week 1"}),(0,s.jsx)("ul",{className:"list-disc space-y-1 pl-5 text-sm text-foreground-500",children:["Inventory every secrets.* or config.* file committed to the repo","Create configuration templates that exclude sensitive values","Update documentation explaining the new separation"].map(e=>(0,s.jsx)("li",{children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-foreground-600 mb-2",children:"Week 2"}),(0,s.jsx)("ul",{className:"list-disc space-y-1 pl-5 text-sm text-foreground-500",children:["Introduce environment variable loading with validation","Set up secret scanning in CI and pre-push hooks","Ensure pipeline secrets are stored outside of version control"].map(e=>(0,s.jsx)("li",{children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-foreground-600 mb-2",children:"Week 3"}),(0,s.jsx)("ul",{className:"list-disc space-y-1 pl-5 text-sm text-foreground-500",children:["Rotate exposed credentials and remove secrets files from history","Schedule access reviews for teams that previously read secrets","Train developers on the new workflow and escalation paths"].map(e=>(0,s.jsx)("li",{children:e},e))})]})]})]}),(0,s.jsxs)(n.Card,{className:"mb-12",children:[(0,s.jsxs)(c.CardHeader,{children:[(0,s.jsx)(u.Github,{className:"text-primary mr-3",size:24}),(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"GitHub's Secret Detection"})]}),(0,s.jsxs)(o.CardBody,{children:[(0,s.jsx)("p",{className:"text-foreground-600 mb-4",children:"GitHub automatically scans repositories for known secret patterns and alerts you when secrets are detected:"}),(0,s.jsxs)("ul",{className:"mb-4 list-disc space-y-2 pl-5 text-foreground-600",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Secret scanning:"})," Automatically detects API keys, tokens, and credentials"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Push protection:"})," Prevents commits containing secrets from being pushed"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Partner alerts:"})," Notifies service providers when their secrets are exposed"]})]}),(0,s.jsx)("div",{className:"p-4 bg-primary-50 rounded-lg border border-primary-200",children:(0,s.jsx)("p",{className:"text-primary-800 font-medium",children:"ðŸ’¡ Even with these protections, it's better to never commit secrets in the first place!"})})]})]}),(0,s.jsxs)(n.Card,{className:"mb-8",children:[(0,s.jsxs)(c.CardHeader,{children:[(0,s.jsx)(k.Terminal,{className:"mr-3",size:24}),(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Run Interactive Demo"}),(0,s.jsx)(l.Button,{color:"warning",variant:"flat",startContent:(0,s.jsx)(w.Play,{size:16}),onPress:async()=>{i(!0),S(null);try{let e=console.log,s=[];console.log=(...t)=>{s.push(t.join(" ")),e(...t)};let t=await A.runDemo();console.log=e,S({result:t,logs:s,timestamp:new Date().toLocaleTimeString()})}catch(e){S({error:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toLocaleTimeString()})}i(!1)},isLoading:e,children:e?"Running...":"Execute Shared Config Demo"})]})]}),(0,s.jsxs)(o.CardBody,{children:[(0,s.jsx)("p",{className:"text-foreground-600 mb-4",children:"Click the button above to see how shared configuration files work and their benefits/risks:"}),_&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(n.Card,{className:"bg-default-100",children:[(0,s.jsxs)(c.CardHeader,{className:"pb-2",children:[(0,s.jsx)(k.Terminal,{size:16,className:"mr-2"}),(0,s.jsxs)("span",{className:"text-sm font-mono",children:["Demo Output (",_.timestamp,")"]})]}),(0,s.jsx)(o.CardBody,{className:"pt-2",children:_.error?(0,s.jsxs)("div",{className:"text-danger",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Error:"}),(0,s.jsx)("p",{className:"font-mono text-sm",children:_.error})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[_.logs&&_.logs.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-2",children:"Console Output:"}),(0,s.jsx)("div",{className:"bg-black text-green-400 p-3 rounded font-mono text-sm overflow-x-auto",children:_.logs.map((e,t)=>(0,s.jsx)("div",{children:e},t))})]}),_.result&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-2",children:"Demo Result:"}),(0,s.jsx)("div",{className:"bg-warning-50 border border-warning-200 p-3 rounded",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Demo Type:"})," ",_.result.demo_type]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",_.result.status]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Security Level:"})," ",(0,s.jsx)(d.Chip,{color:"warning",size:"sm",children:_.result.security_level})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Recommendation:"})," ",_.result.recommendation]})]})})]})]})})]})})]})]}),(0,s.jsxs)(n.Card,{className:"mb-12",children:[(0,s.jsxs)(c.CardHeader,{children:[(0,s.jsx)(u.Github,{className:"mr-3",size:24}),(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Source Code & Live Demo"})]}),(0,s.jsxs)(o.CardBody,{children:[(0,s.jsx)("p",{className:"text-foreground-600 mb-4",children:"See how shared secrets appear in a real repository and how GitHub detects them:"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)(l.Button,{as:h.Link,href:"https://github.com/BradleyMatera/shared-demo",target:"_blank",color:"primary",variant:"flat",startContent:(0,s.jsx)(u.Github,{size:16}),endContent:(0,s.jsx)(f.ExternalLink,{size:16}),children:"View Repository"}),(0,s.jsx)(l.Button,{as:h.Link,href:"https://bradleymatera.github.io/shared-demo/",target:"_blank",color:"secondary",variant:"flat",startContent:(0,s.jsx)(f.ExternalLink,{size:16}),children:"Live Demo"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,s.jsx)(l.Button,{as:N.default,href:"/demos/hardcoded",variant:"bordered",startContent:(0,s.jsx)(p.ArrowLeft,{size:16}),children:"Hardcoded Secrets"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-foreground-500 mb-2",children:"Next: Learn the proper way with environment variables"}),(0,s.jsx)(l.Button,{as:N.default,href:"/demos/environment-variables",color:"primary",endContent:(0,s.jsx)(g.ArrowRight,{size:16}),children:"Environment Variables"})]})]})]})})}e.s(["default",()=>_],12050)}]);