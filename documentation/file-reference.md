# File and Directory Reference

This index documents every tracked file and directory so newcomers can navigate the repo with confidence. Paths are relative to the repository root.

## Root-Level Files

| Path | Description |
| --- | --- |
| `.env.local` | Local-only environment variables (untracked; listed here as a reminder). Needed for the environment-variable demo. |
| `.gitignore` | Filters build artifacts (`out/`, `.next/`), secrets (`secrets/`), node modules, editor files, and logs. |
| `.next/` | Next.js build cache (ignored from version control). |
| `.github/` | Automation workflows; see [Workflows](#github-workflows). |
| `Dockerfile` | Container definition for running the tutorial via Docker (Bun base image, installs dependencies, runs `bun run dev`). |
| `README-old.md` | Historical README kept for reference after migrating to the new documentation set. |
| `TODO.md` | Running checklist of potential enhancements and follow-up items. |
| `app-env.js` | Node script demonstrating `.env`-based secret loading. |
| `app-hardcoded.js` | Node script intentionally hardcoding a fake secret. |
| `app-shared.js` | Node script loading secrets from the committed `secrets.json`. |
| `bun.lock` | Bun lockfile capturing resolved package versions. |
| `docker-compose.yml` | Compose setup to run the tutorial container alongside optional ancillary services (e.g., a mock database). |
| `env-demo/` | Static GitHub Pages-ready demo for the environment-variable approach (includes its own `index.html`). |
| `eslint.config.mjs` | Flat ESLint config targeting TypeScript files under `src/`. |
| `hardcoded-demo/` | Static demo correlating to the hardcoded secret scenario. |
| `index.html` | Standalone HTML page describing the assignment, embedded code samples, and links to the demo repos. |
| `main.js` | Companion script for `index.html`, toggling code snippet visibility. |
| `netlify.toml` | Deployment configuration for Netlify (kept for portability; GitHub Pages is the active host). |
| `next-env.d.ts` | TypeScript ambient declarations generated by Next.js; imports route typings. |
| `next.config.js` | Next.js configuration (base path normalization, static export toggles, image settings, typed routes). |
| `out/` | Generated static export after running `bun run build:github-pages` (ignored by git). |
| `package.json` | Project metadata, scripts (including `build:github-pages`), and dependencies. |
| `postcss.config.js` / `postcss.config.mjs` | PostCSS pipelines enabling Tailwind integration. |
| `public/` | Static assets served as-is. Contains API drop-in JSON for the static export (`public/api/...`). |
| `readme.md` | Front-of-repo quickstart (legacy; superseded by `documentation/`). |
| `secrets.json` | Educational secrets file intentionally committed for the shared-secret demo. |
| `shared-demo/` | Static demo correlating to the shared secrets approach. |
| `src/` | Application source (App Router pages, API routes, components, lib utilities). Detailed below. |
| `style.css` | Styles used by the legacy static HTML assignment page. |
| `tailwind.config.js` / `tailwind.config.ts` | Tailwind configuration (TS version exports typed config, JS version ensures compatibility with tooling). |
| `tsconfig.json` | TypeScript compiler settings, path aliases, strictness options. |
| `vercel.json` | Legacy Vercel deployment config retained for reference. |

## GitHub Workflows

| Path | Description |
| --- | --- |
| `.github/workflows/deploy.yml` | Primary GitHub Pages workflow triggered on pushes/PRs to `master` or `main`. Installs Bun/Node 20.11.1, runs `bun run build:github-pages`, uploads `out/`, deploys via `deploy-pages`. |
| `.github/workflows/pages.yml` | Legacy workflow preserved for direct Pages deployments. Updated to mirror the modern build (Node 20.11.1 + `bun run build:github-pages`). |

## Source Directory (`src/`)

### `src/app`

| Path | Description |
| --- | --- |
| `src/app/globals.css` | Tailwind base styles and CSS variables shared across the app router. |
| `src/app/layout.tsx` | Root layout defining metadata, fonts, theming providers, navigation, and footer. |
| `src/app/page.tsx` | Home page summarizing the tutorial and linking to key sections. |
| `src/app/api/**/route.ts` | Route handlers backing the demo APIs (see below). |
| `src/app/best-practices/page.tsx` | Detailed best-practices guide with cards, lists, and resource links. |
| `src/app/comparison/page.tsx` | Interactive comparison table analyzing each secret approach. |
| `src/app/demos/page.tsx` | Landing page for demos. |
| `src/app/demos/environment-variables/page.tsx` | Environment-variable demo walkthrough. |
| `src/app/demos/hardcoded/page.tsx` | Hardcoded secret demo walkthrough. |
| `src/app/demos/shared-secrets/page.tsx` | Shared secrets demo walkthrough. |
| `src/app/not-found.tsx` | Custom 404 page shown on invalid routes. |

#### API Routes

| Path | Description |
| --- | --- |
| `src/app/api/comparison/route.ts` | Generates comparative metrics, migration steps, and testing scenarios. Marks `dynamic = "force-static"`. |
| `src/app/api/dashboard/route.ts` | Performs filesystem checks to report audit status (missing env files, gitignore heuristics, etc.). |
| `src/app/api/demo/environment/route.ts` | Validates required environment variables, masks values, and reports security features. |
| `src/app/api/demo/hardcoded/route.ts` | Returns intentionally exposed secrets and warnings for the hardcoded scenario. |
| `src/app/api/demo/shared/route.ts` | Reads `secrets.json`, counts secrets, and enumerates associated risks. |

### `src/components`

| Path | Description |
| --- | --- |
| `src/components/Navigation.tsx` | NextUI navbar with base-path-aware links and theme toggle. |
| `src/components/Footer.tsx` | Footer with resource links, repo badges, and attribution. |
| `src/components/Breadcrumb.tsx` | Breadcrumb trail used on detail pages. |
| `src/components/providers.tsx` | Wraps children with NextUI and theme providers. |
| `src/components/TutorialProgress.tsx` | Displays checklist progress through tutorial steps. |
| `src/components/ui/*` | Reusable UI primitives (buttons, code blocks, status chips) abstracting NextUI patterns. |

### `src/demos`

| Path | Description |
| --- | --- |
| `src/demos/env/**` | Helpers and static data for environment-variable demos. |
| `src/demos/environment/**` | Additional educational content for environment-based secrets. |
| `src/demos/hardcoded/**` | Assets and configuration powering the hardcoded secrets demo screens. |
| `src/demos/shared/**` | Assets for the shared-secret demo. |

### `src/lib`

| Path | Description |
| --- | --- |
| `src/lib/**` | Utility modules (formatters, data builders) consumed by demos and pages. The contents are organized by feature (e.g., `lib/data.ts`, `lib/metrics.ts`). |

## Legacy / Static Demo Directories

| Path | Description |
| --- | --- |
| `env-demo/` | Static build demonstrating proper secrets handling with a `.env` file (used for GitHub Pages). |
| `hardcoded-demo/` | Static build highlighting risks of hardcoded secrets. |
| `shared-demo/` | Static build showing shared secrets in version control. |

Each subfolder contains an `index.html` plus supporting assets. They mirror the Next.js content for learners who prefer plain HTML/JS examples.

## Configuration Directories

| Path | Description |
| --- | --- |
| `public/api/**` | Static JSON exported from API routes during build, ensuring GitHub Pages serves consistent data. |
| `public/_next/**` | Pre-generated assets from the static export (ignored in git). |

## Conclusion

Use this reference alongside [`architecture.md`](architecture.md) to understand both the why and the what of the repository. If you add files in the future, update this document so the 100% coverage metric stays accurate.
